cache:
  directories:
  - "$HOME/.m2"
  - "$HOME/.jdk"
sudo: false
env:
  global:
  - TARGET=install
  - secure: "GPkZONltXb85pL0AHFie/pqt1yy8A/N4sr21aZJjtHNw1kDdqOFfLU8/FwBg2qksRzqiwR4qir1kubkQ6e4KANKbRSSXkq2yvMutdgHDtsyRT0svhdCbZg1OgomU/8CZGCTjF5Kq2oXMiDNVf/VaVnG2EVSd0Lc+u95bUAGZ23Xp6tf1B3gRc3I6izHbUrGJUP52fpnzbl5AkhtAtbD9l998P09XaF5VicH+WGEnaW92DkrcXRoLSd3aoSd2WRWxH5kzzEUNidAB4KQKER39YxyKolT7aPCZ1/dB/JvSaHdRKXGu8WMtAymCFLP+DWfNBLKajssMvvyCTUG/FMbVRur86W6Cx2+a65k67mRzxrfqH2JORW8ROKlsq8KEi76G3mnXC1mBn0OWfriAbNGD/WrCH5flivXKrS8fbtg3FxhyS0wXVpamT9yNbL40c3w5LAlCI7000udt6j2qXMKU62e5EzZZsfTrGTbpViB1P01Jq/eYRCrFofIQRpBZre05MTdCrf646UdzQf/w2bJT1J7/Lkz5QGzjjK65BHWEtX36RVVJY+y4vfKI2yLyFNbRLp42/xF/59dInYvUHf8CQFTrnqdhp8RNbFgPKME2k928J+xAVCqV/EVQ68P30ElwKrlczGmpsPoxQ44MxConrOOPjOl+BZg5YC3kbNeJxFo="
  - secure: "FIcMyKcOSEZzfAA0OWfA7rnyamXmQqvYldnjDrgxhG/kYWCqgyZuf5GxN1LvcmTIbV0v/w0bNbBym9yU/pI06M4WtI6qLCff9bTrfB1BhwdnlCAXwFPNEQ5I4YDra8MtGWjPuSf9ymvJQJPk6BqrR028Fr99T3INDapOrcWVic0G2zhsl+JzqZ58i3OpsRk2M5wrzNYlUb0nttey4uuWemQdOjjm4N26iRBSjzjvetznU3azYY86VYsFy+W3HtwW/jKZYGwSOvpzJib8khRhTaOo1iLCCdjmHgrbxAA+uBAUXzi9756/i4llGNUwmGSqVk14k8yUves/wTeF18su+3AqGGRQWgu4asCM5kFXgUXbwGuUKlG+V+hgAuoEpAz4ZYRzuHn3J+CrzL9I7dWeJ+3qiSAXND+onSLqRp0aaskCL2IKnskAZWmwURMEKAFsMizkF4GB1T6L7jXPvFgwMA/RMAaSu5saMbAkeuMw272l6vDsTnlfrHNONOmS++EOIcFlwyUawbGF8R8+avGTGAiijIGBeR0J8Pm6woSz33I6s77wJE9eFN+SKyuuCZkPB7zF+w2+F3cTDnXV4uyOZvNsnaHQAM4Mj0+L/h3d0jNuRQ1x4+dq6tFiD6HKFJxzcbjzYQn61p+la4s7nlbFSNcm2Jc7xFexMfa3MfUFvxA="
  - secure: "kAaJL9i8ecuV0drjARTMnlxiFGzp7XGlnQTRsDnncHGnxLvlqI7P/3gT6+cRONGtdvqX8u0fyruWM0s4gPwr4r+mjs2pwW77QseFp4qQ7bhaXKTiR4l86armMlH80egmz0S0aagZ6YWyI2T13QCOOGyZmSD/2Ro6c46OfqIMK3chh5yWMLmZfXMJJOJa1R4ZXlm7QtFgvZByfDUEMvva1p4xDujzLD/cMp7TLO4ecSDSZ4Ut1z17MyDdtvZxDbBbRfQ7hNk8dVgwMffgBFAvFMxq9i1TQZMfSLe3OyeYPe597h5HLJ7iyacENqL2JKS/qD7klifYmmV/baByN8oEj9b4I8JnzKtRF7Xc/vKAto/3mqbmCqJy2YgVhJ1nxfviqpTVSjEm4j5CYQc6qqBF8bOtsxix9JOW7y3wcqBCqIWGuedrVjGrcPvLzDEln3pMSgFfBnUE+H6PS33VtDkX0xlKDcceumCBNdYCBczWRcGqN2q8AdW0ytVL8njyJaUaLoAU6cPI3WcvsDBMajvXm5dB3rY4NZROKprw1BkFarH9Uww/uGGKL46DfowH3vhPaejMOx6JK87vEqLhhrji2yLaSsEfTM92OG4+KDQYjW30cG6fjlKiziRrvwNob7ruitFOnaJXwFTMtzNnoldD2qak6BvlS6/rvBYVG3t+OzE="
install: true
before_script:
- gpg --import ism.key
- if [ \( -n "${TRAVIS_TAG}" \) -a  "${TRAVIS_PULL_REQUEST}" = "false" ]; then export TARGET="deploy -P release"; fi;
script:
- ./jdk-wrapper.sh ./mvnw clean ${TARGET} --settings settings.xml -U -B -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn
